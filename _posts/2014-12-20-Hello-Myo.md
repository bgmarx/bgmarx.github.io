---
layout: post
title: Hello Myo
tags:
- Myo
- Ruby
- Gems
---

# Hello Myo

After a year of waiting, the [Myo](https://www.thalmic.com/en/myo/) finally arrived.  In the year of waiting for it, there has been many different projects I've
been wanting to undertake.  The initial step: writing a Ruby wrapper to interact with Myo.

## Myo Ruby Wrapper

When I finally received notification that the Myo had shipped, I began to do some cursory research on what libraries existed and if there were any in Ruby.  At the time there weren't so I created a Ruby gem but hadn't bothered to push it since I had no physical Myo to interact with.  Instead I cloned the Python libray (Myo-python) and began to read through it and the iOS sdk.  And tonight when I get home from a trip to Kyoto and Nara, the Myo was waiting.

### Simple Beginnings

After a year of waiting, the [Myo](https://www.thalmic.com/en/myo/) finally arrived.  In the year of waiting for it, there has been many different projects I've
been wanting to undertake.  The initial step: writing a Ruby wrapper to interact with Myo.

## Myo Ruby Wrapper

When I finally received notification that the Myo had shipped, I began to do some cursory research on what libraries existed and if there were any in Ruby.  At the time there weren't so I created a Ruby gem but hadn't bothered to push it since I had no physical Myo to interact with.  Instead I cloned the Python libray (Myo-python) and began to read through it and the iOS sdk.  And tonight when I get home from a trip to Kyoto and Nara, the Myo was waiting.

### Simple Beginnings

The [Myo Ruby Wrapper](https://https://github.com/bgmarx/myo-ruby-wrapper) is very much a work in progress but I have managed to get be able to read various events from the Myo using the [EM Websocket Client Gem](https://github.com/mwylde/em-websocket-client) and parsing the JSON responses.  Each message from the myo is an array like the following:

    [
      "event",
      {
        "myo":0,
        "timestamp":"52593461767",
        "type":"paired",
        "version":[1,1,5,2]
      }
    ]

Each message can be broken into two pieces; first is presumably the notification - *event* - and the second is a hash with *myo*, *timestamp*, *type* and *version*.  The *timestamp* and *version* fields are self-explanatory.  I'm not sure what the *myo* fields signifies yet.  The most useful field is the *type* field.  This field gives information about what the Myo is doing (or has already done I suppose is more accurate).

The event types I've uncovered so far:

* *paired* signifies that the Myo is paired to the bluetooth receiver
* *connected* signifies that the Myo has connected
* *unlocked* signifies that the Myo has received the thumb-to-middle-finger gesture which unlocks the Myo
* *arm_synced* signifies the initial gesture to connect the Myo has been successfully completed.  It also tells the arm that the Myo is on and the x_direction.
* *pose* gives information about the gesture itself.
* *orientation* provides *accelermoter*, *gyroscope* and and *orientation* details.

Right now the gem is very basic and can only provide feedback as to the gesture the Myo has received.  As I'm still adding *types*, the Event Machine connection so far is just one big case switch.  Once the essential fields have been locked down (through some API research no doubt), it can be refactored into something more useful.


### Contribute
I would encourage anyone who is interested in Myo or helping to develop a gem wrapper for Myo to fork or submit a pull request to: [Myo Ruby Wrapper](https://https://github.com/bgmarx/myo-ruby-wrapper)

